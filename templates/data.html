{% extends "base.html" %}
{% block title %}Data · Model Suggestions{% endblock %}

{% block content %}
<div class="card">
  <h2>Suggest Models</h2>
  <p class="muted">Describe what you’re predicting and any clues (features, size, structure).</p>
  <textarea id="prompt" rows="5"
    placeholder="Predicting house price with numeric features (size, bedrooms), ~10k rows"></textarea>
  <div style="margin-top:12px;">
    <button onclick="suggest()">Suggest</button>
  </div>
  <div id="suggestResult" style="margin-top:12px;"></div>
</div>

<script>
  async function suggest() {
    const prompt = document.getElementById('prompt').value || '';
    const res = await fetch('/api/suggest', {
      method: 'POST', headers: {'Content-Type':'application/json'},
      body: JSON.stringify({prompt})
    });
    const data = await res.json();
    const el = document.getElementById('suggestResult');
    if (Array.isArray(data.models)) {
      el.innerHTML = data.models.map(m => `<span class="pill">${m}</span>`).join(' ');
    } else {
      el.textContent = 'Error: ' + (data.error || 'unknown');
    }
  }
</script>
{% endblock %}
