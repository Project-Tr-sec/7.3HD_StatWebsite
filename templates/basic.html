{% extends "base.html" %}
{% block title %}Basic Statistics{% endblock %}

{% block content %}
<div class="card">
  <h2>Basic Statistics</h2>
  <p class="muted">Enter numbers (comma or space separated) to compute the mean.</p>
  <input id="numbers" placeholder="e.g. 1, 2, 3, 4" />
  <div style="margin-top:12px;">
    <button onclick="computeMean()">Compute mean</button>
  </div>
  <div id="meanResult" style="margin-top:12px; font-weight:600;"></div>
</div>

<script>
  function parseNumbers(raw) {
    return raw.split(/[,\s]+/).map(s => s.trim()).filter(Boolean).map(Number);
  }
  async function computeMean() {
    const raw = document.getElementById('numbers').value || '';
    const numbers = parseNumbers(raw);
    const res = await fetch('/api/stats/mean', {
      method: 'POST', headers: {'Content-Type':'application/json'},
      body: JSON.stringify({numbers})
    });
    const data = await res.json();
    const el = document.getElementById('meanResult');
    if (data.mean !== undefined) el.textContent = 'Mean: ' + data.mean;
    else el.textContent = 'Error: ' + (data.error || 'unknown');
  }
</script>
{% endblock %}
